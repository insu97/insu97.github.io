---
layout : markdown
title : Github
tags : [Github]
toc : true
---

{% include markdown.html %}

## 초기 설정

### 이름과 이메일 설정

```bash
git config --global user.name "사용자이름"
git config --global user.email "이메일"
```

### 모든 Git 설정 정보 한번에 보기

```bash
git config --list
```

## Local 환경에서 작업

### git init

```bash
mkdir 디렉터리이름  # 디렉터리 생성
cd 디렉터리이름     # 디렉터리로 이동
git init          # Git 저장소 초기화
```

### git add, git commit

```bash
vim 파일이름  # 파일 생성 및 편집 [ i : 입력모드, esc : 명령모드, :wq! : 저장 후 종료 ]
cat 파일이름  # 파일 내용 확인
git status   # 현재 상태 확인
```

```bash
# 방법 1: 스테이징 + 커밋 분리
git add .  # 새 파일은 이 명령어로 스테이징
git commit -m "커밋 메시지"  # or git commit 입력 후 에디터에서 작성

# 방법 2: 수정된 파일 자동 스테이징 + 커밋
git commit -am "커밋 메시지"

# 방법 3: 메시지 없이 (에디터에서 입력)
git commit -a
```

### git branch, git checkout

```bash
git branch            # 브랜치 목록 확인
git branch 브랜치이름    # 새 브랜치 생성
git checkout 브랜치이름  # 브랜치 전환
git branch -d 브랜치이름   # 브랜치 삭제
```

### git merge

```bash
git checkout master         # 메인 브랜치로 전환
git merge 브랜치이름        # 브랜치 병합
```

### git log

```bash
git log               # 커밋 로그 확인
git log --oneline    # 한 줄 요약 로그 확인
git log --graph      # 그래프 형태로 로그 확인
```

### .gitignore

> 참고 사이트 : [gitignore](https://www.gitignore.io/)

```bash
touch .gitignore # .gitignore 빈 파일 생성
```

### git log : 기록 보기

```bash
git log              # 커밋 로그 확인
git log --oneline    # 한 줄 요약 로그 확인
git log --graph      # 브랜치 분기와 병합 내역을 아스키 그래프로 확인
```

## 원격 저장소와 연동

### GitHub에 원격 저장소 생성

```bash
git clone <원격 저장소 URL>  # 원격 저장소 복제
```

### 원격 저장소 추가 및 연동

```bash
git remote add <원격 이름> <원격 저장소 URL> # 로컬 저장소를 특정 원격 저장소와 연결
git remote -v # 연결된 원격 저장소 확인
```

### 로컬 커밋을 원격 저장소에 업로드

```bash
# Ex
## git push origin --all # 모든 브랜치를 원격 저장소에 업로드
## git push origin master # master 브랜치를 원격 저장소에 업로드
git push <원격 이름> <브랜치 이름> # 로컬 커밋을 원격 저장소에 업로드
```

### 원격 저장소의 변경 사항 가져오기

```bash
# Ex
## git fetch origin # 원격 저장소의 변경 사항을 로컬로 가져오기
## git pull origin master # 원격 저장소의 master 브랜치 변경 사항을 로컬로 가져오고 병합
## git log -1 --stat # 가장 최근 커밋 로그 확인
git fetch <원격 이름> # 원격 저장소의 변경 사항을 로컬로 가져오기
git pull <원격 이름> <브랜치 이름> # 원격 저장소의 변경 사항을 로컬로 가져오고 병합
```

## Git 고급

### 최근 커밋 수정하기 (amend)

```bash
# Ex
## git add README.md # README.md 파일을 스테이징
## git commit -m "Add README" # 스테이징된 파일을 커밋
## README.md 파일을 수정
## git add README.md # 수정된 README.md 파일을 스테이징
## git commit --amend -m "Update README" # 마지막 커밋을 수정하여 새로운 커밋 메시지로 변경
git commit --amend    # 같은 브랜치 상에 있는 최종 커밋을 취소하고 새로운 내용을 추가하거나 설명을 덧붙인 커밋을 할 수 있다.
```

### 안전하게 커밋 되돌리는 방법 (revert)

> 이전 커밋을 남겨두는 방법

```bash
git revert <커밋 해시>            # 이미 푸시된 커밋을 취소하는 방법
```

### 이전 작업 결과를 저장한 상태로 되돌리기 ( reset )

> 어떤 특정 커밋을 사용하지 않게 되어 다시 되돌릴 때 사용
> git revert와 다르게 커밋 기록이 남지 않는다.

- git reset 명령어의 모드

| 모드 | 의미 | HEAD 위치 | 인덱스 | 저장소 디렉터리 |
|------|------|-----------|--------|-----------------|
| hard | 완전히 되돌림 | 변경 | 변경 | 변경 |
| mixed | 인덱스의 상태를 되돌림. 모드를 지정하지 않았을 때의 기본값 | 변경 | 변경 | 유지 |
| soft | 커밋만 되돌림 | 변경 | 유지 | 유지 |

- git reset 명령어 옵션

| 옵션 | 의미 |
|------|------|
| ^혹은 ~ | ~은 커밋 내역 하나를 의미합니다. 표시한 수 만큼 커밋을 되돌립니다. |
| ORIG_HEAD | git reset 명령을 실행했을 때 지운 커밋 내역을 보관합니다. 해당 명령을 통해 git reset 명령으로 지운 커밋을 되돌릴 수 있습니다. |

```bash
git reset             # 어떤 커밋을 버리고 이전의 특정 버전으로 다시 되돌릴 때 사용
```

### 특정 파일을 최종 커밋 상태로 되돌리기 (checkout)

```bash
# Ex
## git add README.md # README.md 파일을 스테이징 -- 1
## git checkout HEAD -- README.md # README.md 파일을 마지막 커밋 상태로 되돌림
## --> 1번에서 스테이징한 README.md 파일이 마지막 커밋 상태로 되돌아감
git checkout HEAD -- filename
```

### git rebase : 브랜치 이력 정리하기

| 옵션 | 의미 |
|------|------|
| --continue | 충돌이 해결된 후 rebase를 계속 진행 |
| --abort | rebase를 중단하고 이전 상태로 되돌림 |
| --skip | 충돌이 발생한 커밋을 건너뛰고 rebase를 계속 진행 |

```bash
# Ex
## vi testfile.txt # testfile.txt 파일 생성 및 편집
## git add testfile.txt # testfile.txt 파일을 스테이징
## git commit -m "Add testfile.txt in master" # master 브랜치에 커밋 

## git branch hotfix1 # hotfix1 브랜치 생성
## git checkout hotfix1 # hotfix1 브랜치로 전환
## vi testfile.txt # testfile.txt 파일 생성 및 편집
## git add testfile.txt # testfile.txt 파일을 스테이징
## git commit -m "Add testfile.txt in hotfix1" # hotfix1 브랜치에 커밋

## git rebase master # error 발생 (충돌)
## vi testfile.txt # 충돌 해결
## git add testfile.txt # 수정된 testfile.txt 파일을 스테이징
## git rebase --continue # rebase 계속 진행

## git checkout master # master 브랜치로 전환
## git merge hotfix1 --no-ff # fast-forward를 방지하고 병합 커밋 생성
git rebase            # git merge처럼 병합할 때 사용합니다. 하지만 브랜치가 많을 경우 브랜치 이력을 확인하면서 병합합니다.
```

```bash
git rebase -i HEAD~~        # 서로 다른 두 개의 커밋 내역을 합칩니다. | ~ : 커밋 내역 하나를 의미합니다.
```
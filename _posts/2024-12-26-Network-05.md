---
layout : markdown
title : Network - 05
tags : [Computer_Engineering]
toc : true
---

{% include markdown.html %}

# 응용 계층

## DNS

> 네트워크 상에서 호스트를 특정 지을 수 있는 주소 : MAC 주소, IP 주소

- DNS 레코드(자원 레코드)
1. A 레코드
2. AAAA 레코드
3. CNAME 레코드
4. NS 레코드
5. SOA 레코드

## 자원과 자원의 식별

> 네트워크 상에서 자원의 식별자 : Uniform Resource Identifier

- URL : 위치 기반 자원 식별(Locator)
- URN : 이름 기반 자원 식별(Name)

- URL 구성요소
1. scheme : 일반적으로 프로토콜 이름 명시
2. authority
3. path : 자원이 있는 경로
4. query : key:value 형태로 서버에 전달할 문자 형태의 파라미터
5. fragment : 자원의 조각(fragment)를 가리키는 데에 사용

## 웹 서버와 웹 어플리케이션 서버

- 서버
1. 웹 서버
2. 웹 어플리케이션 서버(WAS)

- 서버가 응답해야 하는 자원
1. 정적인 자원
2. 동적인 자원

## HTTP의 특성

1. 요청-응답 기반 클라이언트-서버 구조 프로토콜
2. 미디어-독립적 프로토콜 : 어떤 형태의 데이터도 HTTP 메세지로 보낼 수 있음
3. 비연결성 프로토콜 : 다수의 클라이언트가 연결을 시도할 경우 연결을 유지하는 동안 서버의 자원소모가 큼
4. 스테이트리스 프로토콜 : 서버는 클라이언트의 상태를 기억하지 않는다.
5. 지속 연결 프로토콜 : 하나의 연결을 사용해 여러 개의 HTTP 요청/응답 주고받기

- HTTP 버전별 특성
1. HTTP 0.9 : 단일한 요청 방법(GET 메서드), 비지속 연결, 별다른 기능 X
2. HTTP 1.0 : 다양한 요청 방법과 헤더 추가
3. HTTP 1.1 : 지속 연결 기능 추가
4. HTTP 2.0 : 요청 순서대로 응답을 반환할 필요 없음, 헤더 압축
5. HTTP 3.0 : UDP 기반 프로토콜인 QUIC로 변경

## HTTP 메세지 개관

- HTTP 메서드 : 서버에게 요청할 동작
1. GET : 자원 조회
2. POST : 요청할 데이터 처리
3. PUT : 자원 덮어쓰기
4. PATCH : 자원 부분 변경
5. DELETE : 자원 삭제

> 멱등성 : 여러 번 동일한 요청을 보내도 첫 요청 결과와 같은가  
> 캐시 가능성 : 응답 결과를 캐시해서 사용할 수 있는가

- 응답 코드
1. 2XX : 성공
2. 3XX : 리다이렉션
3. 4XX : 클라이언트 오류
4. 5XX : 서버 오류

## HTTP 헤더

> header-field = field name ":" field-value

- 대표적인 헤더 정보
1. HOST : 요청 호스트에 대한 호스트명 + 포트 정보
2. Date : 메세지 생성 시간
3. Referer : 직전에 머물렀던 URL
4. User-Agent : 클라이언트 소프트웨어, 브라우저 명칭과 정보
5. Server : 서버 소프트웨어 명칭과 정보
6. Connection : keep-alive 일 경우 킵 얼라이브
7. Location : 리다이렉트시 이동할 경로
8. Content-Type : HTTP 요청 및 응답에서 사용될 컨텐츠의 유형
9. Content-Encoding : 데이터의 인코딩/압축 방식
10. Content-Length : 데이터의 바이트 단위 길이
11. Content-Language : 데이터의 언어

## 캐시

> 서버의 지연을 줄이기 위해 웹 페이지, 이미지 등의 자원 사본을 임시 저장하는 웹 기술

- Last-Modified : 해당 자원이 언제 마지막으로 변경되었는지를 알려주는 헤더

- 캐시된 자원의 변경

```
> 클라이언트는 요청시 if-modified-since 헤더로 특정 시점 이후 자원 변경 여부를 묻는다.  
> 만일 변경되었다면 다시 다운로드, 아니면 서버는 304 Not Modified 응답을 보낸다.

> Etag를 통해 자원의 변경 여부 감지 기능  
> 서버는 캐시된 자원이 Etag라는 식별 문자를 붙이고,  
> 클라이언트는 If-None-Match 헤더를 통해 해당 Etag가 변경되었는지를 물어본다
```

## 쿠키

> 서버로부터 받은 정보를 클라이언트 측(웹 브라우저)에 임시 저장되는 이름=값 형태의 데이터  
> 유효 기간이 있음  
> 쿠키를 전송할 도메인과 경로가 정해져 있음

- cookie 의 보안기능
1. Secure : Https인 경우에만 전송
2. HTTPOnly : 자바스크립트에서 접근 불가

## 컨텐츠 협상

> 클라이언트가 원하는 컨텐츠를 받을 수 있도록 서버에게 부탁하는 기능

---
layout: markdown
title: Python
tags: [PYTHON]
toc: true
---

{% include markdown.html %}

## 가상환경 설정

### Local

#### Window - Command Prompt - anaconda

```cmd
# 가상환경 생성
# conda create -n {가상환경 폴더 명} python={파이썬 버젼 명}
## Ex. python 3.11 버젼, venv 폴더 명으로 가상환경 생성 
conda create -n venv python=3.11

## 가상환경 진입
conda activate venv

## 가상환경 종료
conda deactivate
```

## typst

### Image 변환

```python
from PIL import Image

# 원본 파일 열기
img = Image.open("image.webp")

# PNG로 저장
img.save("image.png", "PNG")
```

## ERROR

### RAG

#### Reranker

- 코드

```python
from langchain_community.cross_encoders import HuggingFaceCrossEncoder

hf_reranker = HuggingFaceCrossEncoder(
    model_name="BAAI/bge-reranker-v2-m3"
)
```

- error 문구

```python
Error rendering output item using 'jupyter-ipywidget-renderer'
Cannot read properties of undefined (reading 'ipywidgetsKernel')
```

- 해결 방법

```bash
pip install ipywidgets --upgrade
jupyter nbextension enable --py widgetsnbextension --sys-prefix
jupyter nbextension install --py widgetsnbextension --sys-prefix
```

## Others

### 라이브러리 관리

- 방법1

```bash
pip freeze > requirements.txt
pip install -r requirements.txt
```

- 방법2

```bash
pip install pipreqs
pipreqs ./ --force

# 폴더 내에서 환경이 존재하는 경우
pipreqs . --force --ignore "{가상환경}/Lib"
```

- 방법3

```bash
# 새로운 라이브러리를 설치 후 requirements.txt 에 적용할 때
# Ex. cohere 설치했을경우
pip freeze | grep cohere
```
